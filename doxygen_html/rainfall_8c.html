<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Boreal Ecosystem Productivity Simulator Hourly v4.10: rainfall.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Boreal Ecosystem Productivity Simulator Hourly v4.10
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">rainfall.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This module will calculate the water remained on canopy surface after evaporation in this step (used for next step)  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="beps_8h_source.html">beps.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a62a1eec9667a887e1a9bfd32a56ea67c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rainfall_8c.html#a62a1eec9667a887e1a9bfd32a56ea67c">rainfall_stage1</a> (double temp_air, double precipitation, double mass_water_o_last, double mass_water_u_last, double lai_o, double lai_u, double clumping, double *mass_water_o, double *mass_water_u, double *percent_water_o, double *percent_water_u, double *precipitation_g)</td></tr>
<tr class="memdesc:a62a1eec9667a887e1a9bfd32a56ea67c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function of rainfall stage1.  <a href="rainfall_8c.html#a62a1eec9667a887e1a9bfd32a56ea67c">More...</a><br /></td></tr>
<tr class="separator:a62a1eec9667a887e1a9bfd32a56ea67c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b417e26208501b9cbcc8576b136e598"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rainfall_8c.html#a5b417e26208501b9cbcc8576b136e598">rainfall_stage2</a> (double evapo_water_o, double evapo_water_u, double *mass_water_o, double *mass_water_u)</td></tr>
<tr class="memdesc:a5b417e26208501b9cbcc8576b136e598"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function of rainfall stage2.  <a href="rainfall_8c.html#a5b417e26208501b9cbcc8576b136e598">More...</a><br /></td></tr>
<tr class="separator:a5b417e26208501b9cbcc8576b136e598"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >This module will calculate the water remained on canopy surface after evaporation in this step (used for next step) </p>
<p >[rainfall_stage1] happens before evaporation of intercepted water from canopy (supply)</p>
<p >[rainfall_stage2] happens after evaporation of intercepted water from canopy (demand) </p><dl class="section note"><dt>Note</dt><dd>rainfall on ground is considered in stage1, and then considered in surface water module (or soil moisture module) </dd></dl>
<dl class="section author"><dt>Author</dt><dd>XZ Luo </dd></dl>
<dl class="section date"><dt>Date</dt><dd>May 25, 2015 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a62a1eec9667a887e1a9bfd32a56ea67c" name="a62a1eec9667a887e1a9bfd32a56ea67c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62a1eec9667a887e1a9bfd32a56ea67c">&#9670;&nbsp;</a></span>rainfall_stage1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rainfall_stage1 </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>temp_air</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>precipitation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>mass_water_o_last</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>mass_water_u_last</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lai_o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lai_u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>clumping</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>mass_water_o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>mass_water_u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>percent_water_o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>percent_water_u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>precipitation_g</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function of rainfall stage1. </p>
<p >[rainfall_stage1] happens before evaporation of intercepted water from canopy (supply)</p>
<p >[input] air temperature, precipitation (m/s), remain of water on leaves from last step (kg/m2) per leaf area leaf area index of overstorey and understorey, excluding stem. length of this step (s), if time step is 10min, then it is set as 600, air temperature and humidity</p>
<p >[output] percentage of canopy covered by rainfall, overstorey and understorey (provided to evaporation_canopy), mass of water available for evaporation on canopy in this step precipitation on ground</p>
<p >[optical output] intercepted mass of rainfall in this step </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">temp_air</td><td>air temperature (Celsius) </td></tr>
    <tr><td class="paramname">precipitation</td><td>precipitation rate (m/s) </td></tr>
    <tr><td class="paramname">mass_water_o_last</td><td>remains of water from last step, overstory </td></tr>
    <tr><td class="paramname">mass_water_u_last</td><td>remains of water from last step, understory </td></tr>
    <tr><td class="paramname">lai_o</td><td>leaf area index, overstory </td></tr>
    <tr><td class="paramname">lai_u</td><td>leaf area index, understory </td></tr>
    <tr><td class="paramname">clumping</td><td>clumping index </td></tr>
    <tr><td class="paramname">mass_water_o</td><td>mass of water on leaves (kg/m2) per ground area, overstory </td></tr>
    <tr><td class="paramname">mass_water_u</td><td>mass of water on leaves (kg/m2) per ground area, understory </td></tr>
    <tr><td class="paramname">percent_water_o</td><td>the fraction of canopy covered by liquid water and snow, overstory </td></tr>
    <tr><td class="paramname">percent_water_u</td><td>the fraction of canopy covered by liquid water and snow, understory </td></tr>
    <tr><td class="paramname">precipitation_g</td><td>precipitation on ground </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="a5b417e26208501b9cbcc8576b136e598" name="a5b417e26208501b9cbcc8576b136e598"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b417e26208501b9cbcc8576b136e598">&#9670;&nbsp;</a></span>rainfall_stage2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rainfall_stage2 </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>evapo_water_o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>evapo_water_u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>mass_water_o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>mass_water_u</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function of rainfall stage2. </p>
<p >[rainfall_stage2] happens after evaporation of intercepted water from canopy (demand)</p>
<p >[input] mass of water on leaves after precipitation in this step, evaporation from leaves in this step</p>
<p >[output] mass of water on leaves after the evaporation on leaves in this step (this value is transferred to next step) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">evapo_water_o</td><td>evaporation of intercepted rain in this step, overstorey, kg/m2/s = mm/s </td></tr>
    <tr><td class="paramname">evapo_water_u</td><td>evaporation of intercepted rain in this step, understorey, kg/m2/s = mm/s </td></tr>
    <tr><td class="paramname">mass_water_o</td><td>supply of rain on leaves, overstory, already added precipitation in this step </td></tr>
    <tr><td class="paramname">mass_water_u</td><td>supply of rain on leaves, understory, already added precipitation in this step </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
